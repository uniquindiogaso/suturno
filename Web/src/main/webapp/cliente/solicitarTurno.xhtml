<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="UTF-8" />
	<title>#{msgs['solicitar.pestana']}</title>

	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css" />

	<link rel='stylesheet prefetch'
		href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700,900|RobotoDraft:400,100,300,500,700,900' />
	<link rel='stylesheet prefetch'
		href='http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css' />

	<link rel="stylesheet" href="../resources/css/login.css" />


</h:head>

<h:body>

	<div id="clouds">
		<div class="cloud x1"></div>
		<!-- Time for multiple clouds to dance around -->
		<div class="cloud x2"></div>
		<div class="cloud x3"></div>
		<div class="cloud x4"></div>
		<div class="cloud x5"></div>
	</div>

	<!-- Form Mixin-->
	<!-- Input Mixin-->
	<!-- Button Mixin-->
	<!-- Pen Title-->
	<div class="pen-title">
		<h1>SUTURNO WEB</h1>
	</div>
	<!-- Form Module-->
	<div class="module form-module">

		<div class="form"></div>
		<div class="form">
			<h2>#{msgs['solicitar.titulo']}</h2>
			<h:form>
				<f:facet name="header">#{msgs['solicitar.info']}</f:facet>
				
				<h:outputLabel value="Numero de Turno" rendered="#{personaBean.ultimoTurno != null}" />
				<h:inputText value="#{personaBean.ultimoTurno.id}"	readonly="true" rendered="#{personaBean.ultimoTurno != null}" />
				
				<h:outputLabel value="Cliente:" />
				<h:inputText
					value="#{personaBean.cliente.nombre1} #{personaBean.cliente.nombre2}"
					readonly="true" />
				<h:outputLabel value="Servicio:" for="ser" />
				<h:inputText id="nombreServicio"
					value="#{personaBean.ultimoTurno.servicio.nombre}" readonly="true"
					rendered="#{personaBean.ultimoTurno != null}" />
					
				<h:outputLabel value="Fecha Servicio" for="fechaServicio" rendered="#{personaBean.ultimoTurno != null}"/>
				<h:inputText id="fechaServicio"
					value="#{personaBean.ultimoTurno.fecha}" readonly="true"
					rendered="#{personaBean.ultimoTurno != null}" />

				<h:outputText value="#{personaBean.servicio.nombre}" escape="false" />
				<p:selectOneMenu id="ser" value="#{personaBean.servicio}"
					converter="#{servicioConverter}"
					rendered="#{personaBean.ultimoTurno == null}">
					<f:selectItem itemLabel="#{msgs['solicitar.combo']}"
						noSelectionOption="true" />
					<f:selectItems value="#{servicioBean.servicios}" var="servicio"
						itemLabel="#{servicio.nombre}" itemValue="#{servicio}" />
				</p:selectOneMenu>
				<h:commandButton value="Aceptar"
					action="#{personaBean.solicitarTurno}"
					rendered="#{personaBean.ultimoTurno == null}" />
				<br />
				<br />
				<h:button class="button-red" outcome="/inicio?faces-redirect=true"
					value="Regresar" />
			</h:form>
			<h:messages />
			<p:growl />
		</div>
		<div class="cta">
			<span><i class='fa fa-code'></i> Laura Rua - Gustavo Salgado <i
				class="fa fa-copyright fa-flip-horizontal"></i></span>
		</div>
	</div>




</h:body>
</html>